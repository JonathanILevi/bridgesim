<link rel="import" href="../bower_components/iron-a11y-keys/iron-a11y-keys.html">

<link rel="import" href="deps.html">

<dom-module id="bridgesim-lobby">
  <template>
    <style include="iron-flex iron-flex-alignment iron-flex-factors"></style>
    <style>
      :host {
        display: block;
        width: 100%;
      }
      #main {
        height: 100%;
        border: 1px solid #ccc;
        color: #fff;
        font-size: 11px;
      }
      #messages {
        overflow-y: scroll;
      }
      .msg {
        border-bottom: 1px solid #383838;
        margin: 0;
      }
      .who {
        color: #03A9F4;
      }
    </style>

    <div class="layout vertical" id="main">
      <div class="layout horizontal flex-auto">
        <div id="messages" class="flex-2">
          <template is="dom-repeat" items="{{chatLog}}">
            <p class="msg">
              <span class="who">
                {{item.timestamp}} &lt;{{item.clientId}}&gt;
              </span>
              {{item.text}}
            </p>
          </template>
        </div>
      </div>
      <input id="chat" value="{{chatText::input}}"></input>
    </div>

    <iron-a11y-keys target="[[chatBox]]"
      keys="enter" on-keys-pressed="sendChat"></iron-a11y-keys>
  </template>

  <script src="lobby.js"></script>
</dom-module>
